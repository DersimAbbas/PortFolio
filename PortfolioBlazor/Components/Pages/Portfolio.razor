@page "/about"
@inject HttpClient Http
    <img src="/Images/Devopsbackground.png" class="infinity-image" />
<div class="container-container-fluid p-5">
    <h2 class="text-center">About Me</h2>
    <p class="text-center">Some background information about my journey...</p>

    <!-- Pipeline component is wrapped in the parent's layout -->
    <div class="my-5" style="z-index:500;">
        <PipeLine @ref="pipelineComponent" PipelineStages="@Stages" />
    </div>

    <div class="d-flex justify-content-center">
        <div class="mx-auto" style="z-index:500;">
            <button class="btn btn-success" @onclick="HandlePipeline" disabled="@isRunning">Start Pipeline</button>
        </div>

    </div>
        
    <DevOpsTerminal/>
</div>
<div class="d-flex justify-content-center mt-5 me-auto">
    <div class="d-flex justify-content-start gap-3" style="z-index:500;">
        <NavigateButtons />

    </div>
</div>
@code {
    private PipeLine pipelineComponent;
    private List<PipeLine.PipeLineStage> Stages = new();
    private bool isRunning;
    protected override async Task OnInitializedAsync()
    {
        // Load pipeline stages from your API.
        Stages = await Http.GetFromJsonAsync<List<PipeLine.PipeLineStage>>("https://localhost:7192/pipelinestages");
    }
    private async Task HandlePipeline()
    {
        isRunning = true;
        await pipelineComponent.StartPipeline();
        isRunning = false;
    }
      
        
}
